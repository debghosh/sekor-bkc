<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home - The Kolkata Chronicle</title>
  <link rel="stylesheet" href="../assets/css/styles.css">
</head>
<body>
  <!-- AUTHENTICATED USER HOMEPAGE -->
  
  <header class="header">
    <div class="header-content">
      <a href="reader/home.html" class="logo">‡¶∂‡ßá‡¶ï‡¶°‡¶º - The Kolkata Chronicle</a>
      <div class="header-actions">
        <a href="#" class="header-link">‡¶ï‡¶≤‡¶ï‡¶æ‡¶§‡¶æ ‡¶ï‡ßç‡¶∞‡¶®‡¶ø‡¶ï‡¶≤</a>
        <div id="headerAuthSection">
          <!-- Will be filled by JavaScript -->
        </div>
      </div>
    </div>
  </header>

  <nav class="nav-tabs">
    <div class="nav-tabs-content">
      <a href="#" class="nav-tab active" data-tab="home">Home</a>
      <a href="#" class="nav-tab" data-tab="for-you">For You</a>
      <a href="#" class="nav-tab" data-tab="following">Following</a>
      <a href="#" class="nav-tab" data-tab="saved">Saved Stories</a>
      <a href="#" class="nav-tab">‡¶Ü‡¶°‡ßç‡¶°‡¶æ</a>
      <a href="#" class="nav-tab">‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡ßÉ‡¶§‡¶ø</a>
      <a href="#" class="nav-tab">‡¶Æ‡¶æ‡¶õ-‡¶≠‡¶æ‡¶§</a>
      <a href="#" class="nav-tab">Metro</a>
      <a href="#" class="nav-tab">Heritage</a>
      <a href="#" class="nav-tab">üéß Audio</a>
    </div>
  </nav>

  <div class="container">
    <!-- Home Tab -->
    <div id="home-content" class="tab-content active">
      <div class="brief-card">
        <div class="brief-time">Thursday, October 16, 2025 ‚Ä¢ 7:30 AM</div>
        <h1 class="brief-title">‡¶Æ‡¶∞‡ßç‡¶®‡¶ø‡¶Ç ‡¶¨‡ßç‡¶∞‡¶ø‡¶´</h1>
        <p class="brief-subtitle">Everything you need to know about Kolkata today. Your 5-minute companion before the first cup of cha.</p>
        <div class="brief-actions">
          <a href="#" class="btn-brief btn-read"><span>üìÑ</span>Read Brief (5 min)</a>
          <button class="btn-brief btn-listen"><span>üéß</span>Listen to Podcast (2 min)</button>
        </div>
      </div>

      <div class="story-grid" id="storyGrid">
        <!-- Stories will be loaded by JavaScript -->
      </div>
    </div>

    <!-- For You Tab -->
    <div id="for-you-content" class="tab-content">
      <div class="for-you-section">
        <h2 class="section-title">Recommended For You</h2>
        <div id="forYouArticles">
          <!-- Recommended articles will be loaded here -->
        </div>
      </div>
    </div>

    <!-- Following Tab -->
    <div id="following-content" class="tab-content">
      <div class="following-section" id="followingSection">
        <div class="empty-state" id="followingEmptyState">
          <div style="text-align: center; padding: 20px;">
            <div style="font-size: 5em; margin-bottom: 20px; opacity: 0.3;">üìö</div>
            <h3 style="font-size: 1.8em; margin-bottom: 16px; font-weight: 700;">Start Following Authors</h3>
            <p style="color: var(--text-medium); font-size: 1.1em; margin-bottom: 30px;">
              Follow your favorite writers to see their latest stories here.
            </p>
            <a href="#" class="btn-primary" onclick="showTab('for-you'); return false;">
              Explore Stories
            </a>
          </div>
        </div>
        <div id="followingArticlesList" style="display: none;">
          <!-- Followed authors' articles will appear here -->
        </div>
      </div>
    </div>

    <!-- Saved Stories Tab -->
    <div id="saved-content" class="tab-content">
      <div class="saved-header">
        <div>
          <h2 class="section-title" style="margin-bottom: 8px;">Your Saved Stories</h2>
          <p style="color: var(--text-medium); font-size: 0.95em;">Filter by tags to find what you're looking for</p>
        </div>
        <div class="saved-filters" id="savedFilters">
          <button class="filter-btn active" data-filter="all" onclick="filterSavedStories('all')">
            All <span id="allCount">0</span>
          </button>
          <div id="tagFilters"></div>
        </div>
      </div>
      
      <div class="story-grid" id="savedStoriesGrid">
        <div class="empty-state" style="grid-column: 1 / -1; min-height: 400px; display: flex; flex-direction: column; align-items: center; justify-content: center;">
          <div style="font-size: 5em; margin-bottom: 20px; opacity: 0.3;">üîñ</div>
          <h3 style="font-size: 1.8rem; margin-bottom: 12px; color: #1a1a1a;">No saved stories yet</h3>
          <p style="font-size: 1.1rem; color: #666; margin-bottom: 24px;">Save stories to read them later with custom tags</p>
          <a href="#" class="btn-primary" onclick="showTab('home'); return false;">
            Browse Stories
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Save Modal -->
  <div id="saveModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Save Story</h3>
        <button class="modal-close" onclick="closeSaveModal()">&times;</button>
      </div>
      <div class="modal-body">
        <div style="margin-bottom: 20px;">
          <h4 id="modalStoryTitle" style="font-size: 1.1em; font-weight: 600; color: var(--text-dark);"></h4>
        </div>
        
        <div style="margin-bottom: 20px;">
          <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-dark);">
            Add Tags
          </label>
          <div class="tags-input-container">
            <div class="tags-display" id="tagsDisplay"></div>
            <input 
              type="text" 
              id="tagInput" 
              class="tag-input" 
              placeholder="Type a tag and press Enter..."
              onkeypress="handleTagInput(event)"
            >
          </div>
          <p class="form-hint">Press Enter to add a tag. You can add multiple tags to organize your saved stories.</p>
        </div>

        <div class="popular-tags">
          <strong>Suggested Tags:</strong>
          <div style="margin-top: 8px;">
            <button class="tag-suggestion" onclick="addSuggestedTag('Must Read')">Must Read</button>
            <button class="tag-suggestion" onclick="addSuggestedTag('Later')">Later</button>
            <button class="tag-suggestion" onclick="addSuggestedTag('Reference')">Reference</button>
            <button class="tag-suggestion" onclick="addSuggestedTag('Inspiration')">Inspiration</button>
            <button class="tag-suggestion" onclick="addSuggestedTag('Research')">Research</button>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-secondary" onclick="closeSaveModal()">Cancel</button>
        <button class="btn-primary" onclick="confirmSaveStory()">Save Story</button>
      </div>
    </div>
  </div>

  <script src="../assets/js/core/data.js"></script>
  <script src="../assets/js/reader/home.js"></script>
</body>
</html>